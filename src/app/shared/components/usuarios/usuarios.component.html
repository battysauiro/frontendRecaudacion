<div class="container">
  <div
  class="form-inline my-2 my-lg-0 align-items-center justify-content-between"
>
<div><h1></h1></div>
  <div>
    <input
      class="form-control mr-sm-2 busqueda text-center"
      type="search"
      placeholder="buscar usuario"
      aria-label="Search"
      name="term"
      (keyup)="onSearh()"
      [(ngModel)]="termino"
    />
  </div>
  <div>
    <button type="button"  class="btn boton-principal"
    routerLink="/empleados/formulario-empleados"
    data-bs-toggle="modal" data-bs-target="#exampleModal">Agregar Usuario</button>
  </div>
</div>
<div class="">
  <br>
</div>

  <table class="table table-bordered table-striped tabla-estilo" >
    <thead class="cabecera text-white">
      <tr >
          <th>Imagen</th>
          <th>Curp Empleado</th>
          <th>Correo</th>
          <th>estado</th>
          <th>Rol</th>
          <th *ngIf="authService.hasRole(['ROLE_ADMIN','ROLE_PRESIDENTE'])"><i class="fas fa-pencil-alt"></i></th>
          <th *ngIf="authService.hasRole(['ROLE_ADMIN'])"><i class="fas fa-trash-alt"></i></th>
          <th *ngIf="authService.hasRole(['ROLE_ADMIN','ROLE_PRESIDENTE'])">Desactivar</th>
      </tr>
    </thead>
    <tbody>
      <tr class="table-white " *ngFor="let usuario of usuarios">
          <td><img *ngIf="usuario?.url_imagen" src="https://recaudacion-ingresos.herokuapp.com/api/usuario/uploads/img/{{usuario.url_imagen}}" alt="usuario.url_imagen" class="img-thumbnail rounded"
            style="width:64px; cursor: pointer;">
            <img *ngIf="!usuario?.url_imagen" src="https://recaudacion-ingresos.herokuapp.com/static/imagenes/no_usuario.png" alt="Sin foto" class="img-thumbnail rounded"
            style="width:64px; cursor: pointer;">
          </td>
          <td>{{usuario.id_empleado}} </td>
          <td>{{usuario.email}}</td>
          <td [ngClass]="inputEstado.checked?'text-success':'text-danger'">{{usuario.sEstado}}</td>
          <td>{{usuario.nombre_rol}}</td>
          <td *ngIf="authService.hasRole(['ROLE_ADMIN','ROLE_PRESIDENTE'])">
            <button type="button" name="editar"  class="btn btn-primary btn-sm" [routerLink]="['/usuario/formUsuario',usuario.email]"><i class="fas fa-pencil-alt"></i></button>
          </td>
          <td *ngIf="authService.hasRole(['ROLE_ADMIN'])">
            <button type="button" name="eliminar"  class="btn btn-danger btn-sm" (click)='eliminarUsuario(usuario)'><i class="fas fa-trash-alt"></i></button>
          </td>
          <td>
              <label [for]="usuario.email" class="toggle-switchy" data-style="rounded">
                  <input #inputEstado checked type="checkbox" [id]="usuario.email" [checked]="usuario.estado" (change)="onChange(usuario,inputEstado.checked)" >
                  <span class="toggle">
                      <span class="switch"></span>
                  </span>
              </label>
          </td>
      </tr>
    </tbody>
  </table>
  <app-paginador-usuario *ngIf="paginador" [paginador]="paginador"></app-paginador-usuario>
</div>

